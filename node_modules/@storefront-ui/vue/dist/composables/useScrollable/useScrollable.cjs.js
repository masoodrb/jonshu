"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("vue"),P=require("@vueuse/core"),N=require("@storefront-ui/shared");function D(e){const n=c.ref(),t=c.ref(null),a=c.ref({hasPrev:!1,hasNext:!1,isDragged:!1});let d=P.noop;c.watch([n,e],()=>{var h,x,b;const l=P.unrefElement(n);if(!l)return;d(),t.value=new N.Scrollable(l,{...e==null?void 0:e.value,onScroll:u=>{var r,v;a.value={...a.value,hasNext:u.hasNext,hasPrev:u.hasPrev},(v=(r=e==null?void 0:e.value)==null?void 0:r.onScroll)==null||v.call(r,u)},onDragStart:u=>{var r,v;a.value={...a.value,isDragged:u.isDragged},(v=(r=e==null?void 0:e.value)==null?void 0:r.onDragStart)==null||v.call(r,u)}}),d=(h=t.value)==null?void 0:h.register();const s=(x=e==null?void 0:e.value)==null?void 0:x.activeIndex;typeof s=="number"&&s>=0&&((b=e==null?void 0:e.value)!=null&&b.isActiveIndexCentered)&&t.value.scrollToIndex(s)},{immediate:!0,deep:!0});const g=()=>{var l;(l=t.value)==null||l.prev()},f=()=>{var l;(l=t.value)==null||l.next()},S=c.computed(()=>({onClick:g,disabled:!a.value.hasPrev})),m=c.computed(()=>({onClick:f,disabled:!a.value.hasNext}));return{containerRef:n,getPrevButtonProps:S,getNextButtonProps:m,showNext:f,showPrev:g,state:a}}exports.useScrollable=D;
